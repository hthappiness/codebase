# 概述

模式就像骨骼，串联起各种流程，组织代码资源；人工系统，流程设计，职责划分等等，这可不是软件设计独特的问题，任何领域都会面对这样的问题



完成业务功能的流程设计，业务映射一个个基本和复合流程。流程的acid要求等等衍生出的流程。基本流程的定义，根据扩展性，该抽象的抽象；在这些流程中提炼出基本的流程模型，在书中划分为创建型、结构型和行为型模式。

每一个设计模式系统地命名、解释和评价了面向对象系统中一个重要的和重复出现的设计，以能够有效利用的形式记录下来这些设计。



对业务变化点本身的具体分析，。谨记，所有的模式都是以业务出发的，分析业务、设计流程，而后才是模式，不能颠倒顺序。

模式的应用是很灵活的，可以结合实现语言的特性、可以组合不同的模式以描述不同的业务场景；所谓因地制宜，因时制宜

读《设计模式 可复用面向对象软件的基础》，重要的是结合书中的例子和方法，建立模式思维，也就是分析问题的方法（这显然比知识本身还要重要）；同时，书中还提出了一种描述模式的模板和术语



在软件工程领域，设计模式是一套通用的可复用的解决方案，用来解决在软件设计过程中产生的通用问题。它不是一个可以直接转换成源代码的设计，只是一套在软件系统设计过程中程序员应该遵循的最佳实践准则。

设计模式，是指导软件设计过程的一门知识领域

# 基本原则

本章描述设计的基本原则，原则浓缩的是设计思想

- OCP（开闭原则，Open-Closed Principle）：一个软件的实体应当对扩展开放，对修改关闭。
- 里氏替换原则
- DIP（依赖倒转原则，Dependence Inversion Principle）：要针对接口编程，不要针对实现编程。
- LoD（迪米特法则，Law of Demeter）：只与你直接的朋友通信，而避免和陌生人通信。

# 阐述方式

模式名和分类：模式名简洁地描述了模式的本质。一个好的名字非常重要，因为它将成为你的设计词汇表中的一部分。

意图：描述问题本身。设计模式是做什么的？它的基本原理和意图是什么？它解决的是什么样的特定设计问题？

别名：alias

动机：用以说明一个设计问题以及如何用模式中的类、对象来解决该问题的特定情景。该情景会帮助你理解随后对模式更抽象的描述。

适用性：适用场景。改进哪些不良设计？场景的识别。

结构：对象建模技术，OMT；描述对象之间的请求序列和协作关系

参与者：设计模式的类、对象以及它们各自的职责

协作：模式的参与者怎样协作以实现它们的职责

效果：描述模式取得的效果

实现

代码示例

已知应用

相关模式

# 模式分类

描述模式的语言定义

模式的本质在于类、对象之间的关系



也许，模式本身的内容还没有这些模式之间的区别重要

## 创建型模式

抽象了实例化过程



### 工厂模式 factory

扩展新的产品

### 抽象工厂模式abstract factory

扩展新的工厂

### 构建型模式builder

将一个复杂对象的构建与其表示分离，使得同样的构建过程可以创建不同的表示

如下图所示，当我们想要增加新的构建类型，则添加一个新的builder类，然后赋值为director，调用新的类型，然后通用接口可获取builder所构造的product；扩展builder类的原因就在于builder过程的多样性，这是区别于factory模式的

```java
public static void main(String[] args) {
        ComputerDirector director=new ComputerDirector();//1
        ComputerBuilder builder=new MacComputerBuilder("I5处理器","三星125");//2
        director.makeComputer(builder);//3
        Computer macComputer=builder.getComputer();//4
        System.out.println("mac computer:"+macComputer.toString());

        ComputerBuilder lenovoBuilder=new LenovoComputerBuilder("I7处理器","海力士222");
        director.makeComputer(lenovoBuilder);
        Computer lenovoComputer=lenovoBuilder.getComputer();
        System.out.println("lenovo computer:"+lenovoComputer.toString());
}
```



### 原型模式prototype



### 单例模式singleton



## 结构型模式

抽象了过程

## 行为模式

抽象了过程



# 语言相关实现

## c++

类之间的关系，设计模式体现的是耦合点的艺术

与父类之间的耦合关系，比如以子类作为函数实参，父类作为函数形参，比如子类的指针形式，但是这样只能操作父类所定义的成员函数，虚函数提供了操作子类的方式

# 参考

[工厂模式]: https://www.zhihu.com/question/20367734

