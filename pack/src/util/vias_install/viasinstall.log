sys.path is : ['/home/hting/VIAS-V100R001B01D020/vias_install', '/usr/lib64/python27.zip', '/usr/lib64/python2.7', '/usr/lib64/python2.7/plat-linux2', '/usr/lib64/python2.7/lib-tk', '/usr/lib64/python2.7/lib-old', '/usr/lib64/python2.7/lib-dynload', '/usr/lib64/python2.7/site-packages', '/usr/lib64/python2.7/site-packages/gtk-2.0', '/usr/lib/python2.7/site-packages', '/var/lib/restful/common/src']
dir is : /home/hting/VIAS-V100R001B01D020/vias_install
data is : {u'CONFIG_POSTGRES_PASSWORD': u'pgsql', u'CONFIG_POSTGRES_USER': u'pgsql', u'CONFIG_POSTGRES_DB': u'pgsql_db', u'AIX_POSTGRES_DB': u'vias', u'CONFIG_CLUSTERIP': u'10.254.92.105'}
the topic aix_res_keepalive_topic already exist
the topic aix_task_keepalive_topic already exist
the topic aix_face_task_sync_topic already exist
the topic aix_vehicle_task_sync_topic already exist
the topic aix_ps_task_sync_topic already exist
the topic aix_kafka_engine_abnormal_topic already exist
the topic aix_health_report_topic already exist
the topic viid_snapface_topic already exist
the topic viid_ia_snapface_topic already exist
the topic viid_ia_vehicle_topic already exist
the topic viid_vehicle_topic already exist
the topic viid_ia_nonvehicle_topic already exist
the topic viid_nonvehicle_topic already exist
the topic viid_ia_person_topic already exist
the topic viid_person_topic already exist
the topic vias_short_code_topic already exist
the topic vias_fps_short_code_topic already exist
the topic viid_videolabel_topic already exist
file VIAStopic.sh initial error!!!
begin init kafka...
cmd:/root/local/bin/kubectl get pod |grep "^kafka-"|awk '{print $1}'
cmd:/root/local/bin/kubectl exec kafka-0 -- sh -c "test -d /vias_init.first || mkdir /vias_init.first "
cmd:/root/local/bin/kubectl cp /home/hting/VIAS-V100R001B01D020/vias_install/kafka/ kafka-0:/vias_init.first
cmd:/root/local/bin/kubectl exec kafka-0 -- sh -c "cd /vias_init.first/kafka && chmod +x /vias_init.first/kafka/init.sh && /vias_init.first/kafka/init.sh load" >> /home/hting/VIAS-V100R001B01D020/vias_install/viasinstall.log 2>&1 
init kafka success...
load: load the initfiles
ERROR:  database "vias" already exists
CREATE TABLE
CREATE TABLE
psql:./initfiles/vias_db_create.sql:19: NOTICE:  relation "tb_engine" already exists, skipping
psql:./initfiles/vias_db_create.sql:41: NOTICE:  relation "tb_face_task" already exists, skipping
ALTER TABLE
psql:./initfiles/vias_db_create.sql:61: NOTICE:  relation "tb_face_subtask" already exists, skipping
CREATE TABLE
psql:./initfiles/vias_db_create.sql:83: NOTICE:  relation "tb_vehicle_task" already exists, skipping
CREATE TABLE
ALTER TABLE
psql:./initfiles/vias_db_create.sql:104: NOTICE:  relation "tb_vehicle_subtask" already exists, skipping
CREATE TABLE
psql:./initfiles/vias_db_create.sql:126: NOTICE:  relation "tb_vs_task" already exists, skipping
CREATE TABLE
ALTER TABLE
psql:./initfiles/vias_db_create.sql:147: NOTICE:  relation "tb_vs_subtask" already exists, skipping
CREATE TABLE
psql:./initfiles/vias_db_create.sql:169: NOTICE:  relation "tb_density_task" already exists, skipping
CREATE TABLE
psql:./initfiles/vias_db_create.sql:189: NOTICE:  relation "tb_density_subtask" already exists, skipping
CREATE TABLE
psql:./initfiles/vias_db_create.sql:211: NOTICE:  relation "tb_ps_task" already exists, skipping
CREATE TABLE
psql:./initfiles/vias_db_create.sql:232: NOTICE:  relation "tb_ps_subtask" already exists, skipping
ALTER TABLE
CREATE TABLE
psql:./initfiles/vias_db_create.sql:247: NOTICE:  relation "tb_image_repository" already exists, skipping
CREATE TABLE
psql:./initfiles/vias_db_create.sql:249: NOTICE:  relation "tb_image_repository_task_id_seq" already exists, skipping
CREATE SEQUENCE
ALTER TABLE
CREATE TABLE
psql:./initfiles/vias_db_create.sql:260: NOTICE:  relation "tb_trace_task" already exists, skipping
file vias_db_create.sql initial success!
begin init pgsql...
cmd:/root/local/bin/kubectl get pod |grep st-pgsql|awk '{print $1}'
cmd:/root/local/bin/kubectl exec st-pgsql-0 -- sh -c "test -d /vias_init.first || mkdir /vias_init.first "
cmd:/root/local/bin/kubectl cp /home/hting/VIAS-V100R001B01D020/vias_install/psql/ st-pgsql-0:/vias_init.first
cmd:/root/local/bin/kubectl exec st-pgsql-0 -- sh -c "cd /vias_init.first/psql && chmod +x /vias_init.first/psql/init.sh && /vias_init.first/psql/init.sh load" >> /home/hting/VIAS-V100R001B01D020/vias_install/viasinstall.log 2>&1
init pgsql success.
[2019-08-05 14:25:10,343]-[INFO]-[registry_manager.py:47]: registry:5500/vias-database:V100R001B01D020T1908051349-00000
[2019-08-05 14:25:10,499]-[INFO]-[registry_manager.py:60]: The push refers to repository [registry:5500/vias-database]
2492fe69710c: Preparing
305dad7e54ff: Preparing
75b60b00b4c9: Preparing
8fed8d8f8ca7: Preparing
154ad886cd7a: Preparing
1d31b5806ba4: Preparing
154ad886cd7a: Layer already exists
1d31b5806ba4: Layer already exists
2492fe69710c: Layer already exists
305dad7e54ff: Layer already exists
75b60b00b4c9: Layer already exists
8fed8d8f8ca7: Layer already exists
V100R001B01D020T1908051349-00000: digest: sha256:ab28cddca64dfc92669afce2496b513e2f9c3b46245a5f7b88433865a9d4b698 size: 1576

[2019-08-05 14:25:11,262]-[INFO]-[registry_manager.py:47]: registry:5500/vias-res:V100R001B01D020T1908051349-00000
[2019-08-05 14:25:11,400]-[INFO]-[registry_manager.py:60]: The push refers to repository [registry:5500/vias-res]
97028db3f5f7: Preparing
733179c36652: Preparing
4e02aefe4065: Preparing
99fe10b177f9: Preparing
154ad886cd7a: Preparing
1d31b5806ba4: Preparing
1d31b5806ba4: Waiting
154ad886cd7a: Layer already exists
99fe10b177f9: Layer already exists
733179c36652: Layer already exists
4e02aefe4065: Layer already exists
97028db3f5f7: Layer already exists
1d31b5806ba4: Layer already exists
V100R001B01D020T1908051349-00000: digest: sha256:ba4f19f0344becac6b1be98f60b575cb5616c7ddec0aec41e41d559dd8ca1885 size: 1577

[2019-08-05 14:25:12,147]-[INFO]-[registry_manager.py:47]: registry:5500/vias-sc:V100R001B01D020T1908051349-00000
[2019-08-05 14:25:12,284]-[INFO]-[registry_manager.py:60]: The push refers to repository [registry:5500/vias-sc]
a8095ea55c59: Preparing
c4e68584ce71: Preparing
77014305b326: Preparing
d655aec32144: Preparing
154ad886cd7a: Preparing
1d31b5806ba4: Preparing
1d31b5806ba4: Waiting
154ad886cd7a: Layer already exists
1d31b5806ba4: Layer already exists
a8095ea55c59: Layer already exists
d655aec32144: Layer already exists
77014305b326: Layer already exists
c4e68584ce71: Layer already exists
V100R001B01D020T1908051349-00000: digest: sha256:27e2a83eba2c2cfda8afa05d6575ab4bb80c06655986c4ff42b2283ae00f5da9 size: 1577

[2019-08-05 14:25:12,993]-[INFO]-[registry_manager.py:47]: registry:5500/vias-ag:V100R001B01D020T1908051349-00000
[2019-08-05 14:25:13,189]-[INFO]-[registry_manager.py:60]: The push refers to repository [registry:5500/vias-ag]
cf1d0e5e048f: Preparing
bd3413b8c104: Preparing
aaa3ce0e0b65: Preparing
dbd18b99a7e0: Preparing
154ad886cd7a: Preparing
1d31b5806ba4: Preparing
1d31b5806ba4: Waiting
154ad886cd7a: Layer already exists
1d31b5806ba4: Layer already exists
bd3413b8c104: Layer already exists
aaa3ce0e0b65: Layer already exists
cf1d0e5e048f: Layer already exists
dbd18b99a7e0: Layer already exists
V100R001B01D020T1908051349-00000: digest: sha256:6c72f5f382da67df5a9b28aed14fbc2064cca7568dcbb6245d792889c334d92a size: 1576

[2019-08-05 14:25:14,806]-[INFO]-[registry_manager.py:47]: registry:5500/vias-trace:V100R001B01D020T1908051349-00000
[2019-08-05 14:25:14,990]-[INFO]-[registry_manager.py:60]: The push refers to repository [registry:5500/vias-trace]
8d4fe96cce10: Preparing
ddd45b066a38: Preparing
7504d263ec8b: Preparing
58c340803f8e: Preparing
518e78247d50: Preparing
ea6a5f644b8f: Preparing
e1846695c6b2: Preparing
6e64372a5f04: Preparing
ea6a5f644b8f: Waiting
a0770c62d166: Preparing
00231ed2d67b: Preparing
6e64372a5f04: Waiting
e1846695c6b2: Waiting
8a7bb7c19d6f: Preparing
a0770c62d166: Waiting
c3e37e7d3271: Preparing
75646cc7b1e2: Preparing
8a7bb7c19d6f: Waiting
eef2cedffe39: Preparing
c3e37e7d3271: Waiting
75646cc7b1e2: Waiting
1d31b5806ba4: Preparing
eef2cedffe39: Waiting
1d31b5806ba4: Waiting
7504d263ec8b: Layer already exists
58c340803f8e: Layer already exists
8d4fe96cce10: Layer already exists
ddd45b066a38: Layer already exists
518e78247d50: Layer already exists
ea6a5f644b8f: Layer already exists
e1846695c6b2: Layer already exists
6e64372a5f04: Layer already exists
a0770c62d166: Layer already exists
00231ed2d67b: Layer already exists
8a7bb7c19d6f: Layer already exists
75646cc7b1e2: Layer already exists
c3e37e7d3271: Layer already exists
eef2cedffe39: Layer already exists
1d31b5806ba4: Layer already exists
V100R001B01D020T1908051349-00000: digest: sha256:fe519641aeb3e48b7ab353ec02d62b1a76498ce98cf3dd0e2139d1aa9649a7ff size: 3471

[2019-08-05 14:25:16,367]-[INFO]-[registry_manager.py:47]: registry:5500/vias-srs:V100R001B01D020T1908051349-00000
[2019-08-05 14:25:16,600]-[INFO]-[registry_manager.py:60]: The push refers to repository [registry:5500/vias-srs]
3028d51be620: Preparing
9f7884289469: Preparing
bea9e5f6d144: Preparing
58c340803f8e: Preparing
518e78247d50: Preparing
ea6a5f644b8f: Preparing
e1846695c6b2: Preparing
6e64372a5f04: Preparing
a0770c62d166: Preparing
00231ed2d67b: Preparing
8a7bb7c19d6f: Preparing
c3e37e7d3271: Preparing
75646cc7b1e2: Preparing
eef2cedffe39: Preparing
1d31b5806ba4: Preparing
e1846695c6b2: Waiting
ea6a5f644b8f: Waiting
8a7bb7c19d6f: Waiting
6e64372a5f04: Waiting
a0770c62d166: Waiting
c3e37e7d3271: Waiting
eef2cedffe39: Waiting
00231ed2d67b: Waiting
75646cc7b1e2: Waiting
1d31b5806ba4: Waiting
bea9e5f6d144: Layer already exists
58c340803f8e: Layer already exists
518e78247d50: Layer already exists
3028d51be620: Layer already exists
9f7884289469: Layer already exists
ea6a5f644b8f: Layer already exists
e1846695c6b2: Layer already exists
a0770c62d166: Layer already exists
6e64372a5f04: Layer already exists
00231ed2d67b: Layer already exists
8a7bb7c19d6f: Layer already exists
c3e37e7d3271: Layer already exists
eef2cedffe39: Layer already exists
75646cc7b1e2: Layer already exists
1d31b5806ba4: Layer already exists
V100R001B01D020T1908051349-00000: digest: sha256:10bbb5217fe485806c93bacd00becb87501385f80bc1c6825a3a92c72f621947 size: 3466

[2019-08-05 14:25:16,666]-[INFO]-[installApp.py:448]: aix create_yaml_parse
[2019-08-05 14:25:16,667]-[INFO]-[installApp.py:112]: ====== create yaml for aix =========
[2019-08-05 14:25:16,838]-[INFO]-[file_and_json_manager.py:106]: aix
[2019-08-05 14:25:16,928]-[INFO]-[file_and_json_manager.py:106]: aix
[2019-08-05 14:25:17,008]-[INFO]-[file_and_json_manager.py:106]: aix
[2019-08-05 14:25:17,088]-[INFO]-[file_and_json_manager.py:106]: aix
[2019-08-05 14:25:17,177]-[INFO]-[file_and_json_manager.py:106]: aix
[2019-08-05 14:25:17,178]-[INFO]-[file_and_json_manager.py:106]: aix
[2019-08-05 14:25:17,178]-[INFO]-[file_and_json_manager.py:106]: aix
[2019-08-05 14:25:17,179]-[INFO]-[file_and_json_manager.py:106]: aix
[2019-08-05 14:25:17,271]-[INFO]-[createYaml.py:887]: hostpath
[2019-08-05 14:25:17,271]-[INFO]-[createYaml.py:887]: hostpath
[2019-08-05 14:25:17,272]-[INFO]-[createYaml.py:969]: ports: 
[2019-08-05 14:25:17,272]-[INFO]-[createYaml.py:474]: initvolumes: 
[2019-08-05 14:25:17,272]-[INFO]-[schedule.py:263]: all_node_select_in_items
[2019-08-05 14:25:17,366]-[INFO]-[createYaml.py:887]: hostpath
[2019-08-05 14:25:17,366]-[INFO]-[createYaml.py:887]: hostpath
[2019-08-05 14:25:17,366]-[INFO]-[createYaml.py:969]: ports: 
[2019-08-05 14:25:17,366]-[INFO]-[createYaml.py:474]: initvolumes: 
[2019-08-05 14:25:17,367]-[INFO]-[schedule.py:263]: all_node_select_in_items
[2019-08-05 14:25:17,464]-[INFO]-[createYaml.py:887]: hostpath
[2019-08-05 14:25:17,464]-[INFO]-[createYaml.py:887]: hostpath
[2019-08-05 14:25:17,464]-[INFO]-[createYaml.py:969]: ports: 
[2019-08-05 14:25:17,465]-[INFO]-[createYaml.py:474]: initvolumes: 
[2019-08-05 14:25:17,465]-[INFO]-[schedule.py:263]: all_node_select_in_items
[2019-08-05 14:25:17,560]-[INFO]-[createYaml.py:887]: hostpath
[2019-08-05 14:25:17,560]-[INFO]-[createYaml.py:887]: hostpath
[2019-08-05 14:25:17,561]-[INFO]-[createYaml.py:969]: ports: 
[2019-08-05 14:25:17,561]-[INFO]-[createYaml.py:474]: initvolumes: 
[2019-08-05 14:25:17,561]-[INFO]-[schedule.py:263]: all_node_select_in_items
[2019-08-05 14:25:17,666]-[INFO]-[createYaml.py:887]: hostpath
[2019-08-05 14:25:17,666]-[INFO]-[createYaml.py:887]: hostpath
[2019-08-05 14:25:17,667]-[INFO]-[createYaml.py:969]: ports: 
[2019-08-05 14:25:17,667]-[INFO]-[createYaml.py:887]: hostpath
[2019-08-05 14:25:17,667]-[INFO]-[createYaml.py:887]: hostpath
[2019-08-05 14:25:17,667]-[INFO]-[createYaml.py:969]: ports: 
[2019-08-05 14:25:17,667]-[INFO]-[createYaml.py:474]: initvolumes: 
[2019-08-05 14:25:17,667]-[INFO]-[schedule.py:263]: all_node_select_in_items
[2019-08-05 14:25:17,689]-[INFO]-[installApp.py:117]: aixCreate yaml succeed!
[2019-08-05 14:25:17,755]-[INFO]-[installApp.py:457]: aix createappParse
[2019-08-05 14:25:17,755]-[INFO]-[installApp.py:296]: ====== create app pod for aix =========
